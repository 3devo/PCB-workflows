# This file defines the outputs that do not change per variant (i.e. need
# to be run only once when variants are involved).

outputs:
- name: copy_files
  comment: Generate project files (with revision included)
  type: copy_files
  dir: Project
  options:
    files:
      - source_type: project

- name: download_datasheets
  comment: Download the datasheets
  type: download_datasheets
  dir: Datasheets
  # This has significant overhead, so only run this when requested
  run_by_default: false

- name: report_full
  comment: Information about the board
  type: report
  options:
    # "report" is not terribly useful in the filename, so put in something more clear
    output: '%f-boardinfo%v.%x'
    template: full_SVG

- name: basic_info
  comment: Information about the run
  type: info
  dir: .
  options:
    # "info" is not terribly useful in the filename, so put in something more clear
    output: '%f-kibot-run-info%v.%x'

- name: Gerbers
  comment: Gerbers compatible with JLCPCB
  type: gerber
  dir: Gerbers
  options: &gerber_options
    exclude_edge_layer: true
    plot_sheet_reference: false
    plot_footprint_refs: true
    plot_footprint_values: true
    force_plot_invisible_refs_vals: false
    tent_vias: true
    use_protel_extensions: true
    create_gerber_job_file: false
    disable_aperture_macros: false
    gerber_precision: 4.6
    use_gerber_x2_attributes: false
    use_gerber_net_attributes: false
    subtract_mask_from_silk: true
  layers:
    - copper
    - F.SilkS
    - B.SilkS
    - F.Mask
    - B.Mask
    - F.Paste
    - B.Paste
    - Edge.Cuts

- name: JLCPCB_drill
  comment: Drill files compatible with JLCPCB
  type: excellon
  dir: Gerbers
  options:
    map: gerber
    pth_and_npth_single_file: false
    metric_units: true
    route_mode_for_oval_holes: false
    use_aux_axis_as_origin: false
    output: "%f%i.%x"
    zeros_format: 'DECIMAL_FORMAT'

- name: pdf_pcb_print
  comment: Board layout in PDF format
  type: pcb_print
  dir: .
  options:
    format: PDF
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      sheet: Front copper
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      - layer: User.Comments
      sheet: Front documentation

- name: basic_svg
  comment: Individual layers in SVG format
  type: svg
  dir: PCB/Layers
  layers: all

- name: svg_top_view
  comment: Rendered empty board, top SVG
  type: pcbdraw
  dir: PCB/Images
  options:
    format: svg
- name: png_top_view
  comment: Rendered empty board, top PNG
  type: pcbdraw
  dir: PCB/Images
  options:
    format: png
- name: svg_bottom_view
  comment: Rendered empty board, bottom SVG
  type: pcbdraw
  dir: PCB/Images
  options:
    format: svg
    bottom: true
- name: png_bottom_view
  comment: Rendered empty board, bottom PNG
  type: pcbdraw
  dir: PCB/Images
  options:
    format: png
    bottom: true
